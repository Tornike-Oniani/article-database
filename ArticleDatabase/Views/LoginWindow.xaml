<views:WindowBase x:Class="ArticleDatabase.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:local="clr-namespace:ArticleDatabase"
        xmlns:views="clr-namespace:ArticleDatabase.Views"
        mc:Ignorable="d"
        WindowStyle="None"
        AllowsTransparency="True"
        Style="{StaticResource LoginWindowStyle}"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanMinimize"
        Title="LoginWindow"  SizeToContent="Height" Height="Auto" Width="500">
    <Window.InputBindings>
        <KeyBinding Command="{Binding LoginCommand}" CommandParameter="{Binding ElementName=loginWindow}" Key="Enter" />
    </Window.InputBindings>

    <Window.Resources>
        <ImageBrush x:Key="MyResource" ImageSource="/ArticleDatabase.Styles;component/Images/Splash.jpg" />
    </Window.Resources>

    <WindowChrome.WindowChrome>
        <WindowChrome 
            ResizeBorderThickness="0"
            CaptionHeight="40"
            CornerRadius="0"
            GlassFrameThickness="0"
            />
    </WindowChrome.WindowChrome>

    <Grid>
        <!-- Login fields -->
        <Border Padding="30 20 30 10" Grid.Column="0">
            <StackPanel>
                <Image Source="/ArticleDatabase.Styles;component/Images/logo.png" 
                       Width="70"
                       RenderOptions.BitmapScalingMode="Fant"
                       HorizontalAlignment="Left"/>

                <TextBlock Text="Sign in with your account "
                           FontSize="20"
                           FontWeight="Bold" 
                           Margin="0 50 0 30"/>

                <Grid Margin="0 0 0 10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <materialDesign:PackIcon Kind="Account" 
                                             Foreground="Gray" 
                                             Width="25" 
                                             Height="25" 
                                             VerticalAlignment="Bottom" 
                                             Margin="0 0 8 0" 
                                             Grid.Column="0" />
                    <TextBox x:Name="txbUsername" 
                             Text="{Binding CurrentUser.Username, UpdateSourceTrigger=PropertyChanged}" 
                             materialDesign:HintAssist.Hint="Username" 
                             materialDesign:HintAssist.IsFloating="True"
                             Grid.Column="1" />
                </Grid>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <materialDesign:PackIcon Kind="Key" 
                                             Foreground="Gray"
                                             Width="25" 
                                             Height="25" 
                                             VerticalAlignment="Bottom" 
                                             Margin="0 0 8 0" 
                                             Grid.Column="0" />
                    <TextBox Text="{Binding CurrentUser.Password, UpdateSourceTrigger=PropertyChanged}" 
                             materialDesign:HintAssist.Hint="Password" 
                             materialDesign:HintAssist.IsFloating="True"
                             FontFamily="Fonts/password.ttf"
                             Grid.Column="1" />
                </Grid>

                <Grid Margin="0 20 0  25">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Button Content="Log In" 
                            Command="{Binding LoginCommand}" 
                            CommandParameter="{Binding CloseCommand, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}" 
                            Margin="0 0 5 0" 
                            Grid.Column="0">
                    </Button>
                    <Button Content="Register" 
                            Command="{Binding RegisterCommand}" 
                            Margin="5 0 0 0" 
                            Grid.Column="2" />
                </Grid>
            </StackPanel>
        </Border>

    </Grid>
</views:WindowBase>
